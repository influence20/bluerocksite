<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="apple-touch-icon" href="images/icons/icon-192x192.png">
    <meta name="theme-color" content="#1e3a8a">
    <link rel="manifest" href="manifest.json">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile | BlueRock Asset Management</title>
    <meta name="description" content="Manage your BlueRock Asset Management user profile and account settings.">
    
    <!-- Favicon -->
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#1e3a8a">
    <meta name="msapplication-TileColor" content="#1e3a8a">
    <meta name="theme-color" content="#1e3a8a">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/enhanced-mobile.css">
    <link rel="stylesheet" href="css/mobile-fixes.css">
    <link rel="stylesheet" href="css/improved-navigation.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/auth.css">
    <link rel="stylesheet" href="css/remove-warning.css">
    
    <!-- Live Chat Script -->
    <script src="//code.jivosite.com/widget/foeFKzf8Lf" async></script>
    
    <style>
        .profile-container {
            max-width: 800px;
            margin: 100px auto 50px;
            padding: 0 20px;
        }
        
        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: 600;
            margin-right: 20px;
        }
        
        .profile-title h1 {
            margin-bottom: 5px;
        }
        
        .profile-title p {
            color: #6c757d;
            margin: 0;
        }
        
        .profile-tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 30px;
        }
        
        .profile-tab {
            padding: 15px 20px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .profile-tab.active {
            border-bottom-color: var(--primary-color);
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .profile-tab:hover {
            color: var(--primary-color);
        }
        
        .profile-content {
            display: none;
        }
        
        .profile-content.active {
            display: block;
        }
        
        .profile-section {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .profile-section h2 {
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-top: 30px;
        }
        
        .security-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        
        .security-item:last-child {
            border-bottom: none;
        }
        
        .security-item-info h3 {
            margin: 0 0 5px;
            font-size: 1.1rem;
        }
        
        .security-item-info p {
            margin: 0;
            color: #6c757d;
            font-size: 0.9rem;
        }
        
        .notification-preferences {
            margin-bottom: 20px;
        }
        
        .notification-option {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .notification-option input[type="checkbox"] {
            margin-right: 10px;
        }
        
        .notification-option label {
            display: flex;
            flex-direction: column;
        }
        
        .notification-option label span {
            font-size: 0.9rem;
            color: #6c757d;
        }
        
        @media (max-width: 768px) {
            .profile-header {
                flex-direction: column;
                text-align: center;
            }
            
            .profile-avatar {
                margin-right: 0;
                margin-bottom: 20px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .form-actions {
                flex-direction: column;
            }
            
            .form-actions button {
                width: 100%;
            }
        }
    </style>
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
    <link rel="stylesheet" href="css/header-fix.css">
    <link rel="stylesheet" href="css/fixed-navigation.css">
    <link rel="stylesheet" href="css/premium-style.css">
    <script src="js/structured-data.js"></script>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <a href="index.html">
                    <img src="images/bluerock-logo.png" alt="BlueRock Asset Management Logo">
                    <h1></h1>
                </a>
            </div>
            
            <button class="mobile-menu-btn" aria-label="Toggle navigation menu">
                <i class="fas fa-bars"></i>
            </button>
            
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="index.html#services">Services</a></li>
                    <li><a href="index.html#calculator">Calculator</a></li>
                    <li><a href="savings.html">Savings</a></li>
                    <li><a href="investments.html">Investments</a></li>
                    <li><a href="investment-plans.html">Plans</a></li>
                    <li><a href="deposit.html">Deposit</a></li>
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                    <li class="auth-links">
                        <a href="dashboard.html" class="nav-login">Dashboard</a>
                        <a href="#" id="logout-btn" class="nav-signup btn btn-accent btn-sm">Logout</a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    
    <!-- Profile Container -->
    <div class="profile-container">
        <div class="profile-header">
            <div class="profile-avatar" id="profile-avatar">JD</div>
            <div class="profile-title">
                <h1 id="profile-name">John Doe</h1>
                <p id="profile-email">john.doe@example.com</p>
            </div>
        </div>
        
        <div class="profile-tabs">
            <div class="profile-tab active" data-tab="personal">Personal Information</div>
            <div class="profile-tab" data-tab="security">Security</div>
            <div class="profile-tab" data-tab="notifications">Notifications</div>
        </div>
        
        <!-- Personal Information Tab -->
        <div class="profile-content active" id="personal-tab">
            <div class="profile-section">
                <h2>Personal Information</h2>
                <form id="personal-info-form" class="auth-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="first-name">First Name</label>
                            <input type="text" id="first-name" value="John" required>
                            <div class="validation-error">Please enter your first name</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="last-name">Last Name</label>
                            <input type="text" id="last-name" value="Doe" required>
                            <div class="validation-error">Please enter your last name</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" value="john.doe@example.com" required>
                            <div class="validation-error">Please enter a valid email address</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" value="+1 (555) 123-4567" required>
                            <div class="validation-error">Please enter a valid phone number</div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="country">Country</label>
                            <select id="country" required>
                                <option value="US" selected>United States</option>
                                <option value="CA">Canada</option>
                                <option value="UK">United Kingdom</option>
                                <option value="AU">Australia</option>
                                <option value="DE">Germany</option>
                                <option value="FR">France</option>
                                <option value="other">Other</option>
                            </select>
                            <div class="validation-error">Please select your country</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="timezone">Timezone</label>
                            <select id="timezone" required>
                                <option value="UTC-8" selected>Pacific Time (UTC-8)</option>
                                <option value="UTC-7">Mountain Time (UTC-7)</option>
                                <option value="UTC-6">Central Time (UTC-6)</option>
                                <option value="UTC-5">Eastern Time (UTC-5)</option>
                                <option value="UTC+0">Greenwich Mean Time (UTC+0)</option>
                                <option value="UTC+1">Central European Time (UTC+1)</option>
                                <option value="UTC+2">Eastern European Time (UTC+2)</option>
                                <option value="UTC+8">China Standard Time (UTC+8)</option>
                                <option value="UTC+9">Japan Standard Time (UTC+9)</option>
                                <option value="UTC+10">Australian Eastern Time (UTC+10)</option>
                            </select>
                            <div class="validation-error">Please select your timezone</div>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn" style="background-color: #6c757d;">Cancel</button>
                        <button type="submit" class="btn">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Security Tab -->
        <div class="profile-content" id="security-tab">
            <div class="profile-section">
                <h2>Change Password</h2>
                <form id="change-password-form" class="auth-form">
                    <div class="form-group">
                        <label for="current-password">Current Password</label>
                        <input type="password" id="current-password" required>
                        <div class="validation-error">Please enter your current password</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="new-password">New Password</label>
                        <input type="password" id="new-password" required>
                        <div class="password-strength">
                            <div class="password-strength-meter"></div>
                        </div>
                        <div class="password-strength-text">Password strength: Too weak</div>
                        <div class="validation-error">Password must be at least 8 characters with letters, numbers, and special characters</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="confirm-password">Confirm New Password</label>
                        <input type="password" id="confirm-password" required>
                        <div class="validation-error">Passwords do not match</div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn" style="background-color: #6c757d;">Cancel</button>
                        <button type="submit" class="btn">Update Password</button>
                    </div>
                </form>
            </div>
            
            <div class="profile-section">
                <h2>Security Settings</h2>
                
                <div class="security-item">
                    <div class="security-item-info">
                        <h3>Two-Factor Authentication</h3>
                        <p>Add an extra layer of security to your account</p>
                    </div>
                    <button class="btn" id="enable-2fa">Enable</button>
                </div>
                
                <div class="security-item">
                    <div class="security-item-info">
                        <h3>Login History</h3>
                        <p>View your recent login activity</p>
                    </div>
                    <button class="btn" id="view-login-history">View</button>
                </div>
                
                <div class="security-item">
                    <div class="security-item-info">
                        <h3>Active Sessions</h3>
                        <p>Manage your active login sessions</p>
                    </div>
                    <button class="btn" id="manage-sessions">Manage</button>
                </div>
            </div>
        </div>
        
        <!-- Notifications Tab -->
        <div class="profile-content" id="notifications-tab">
            <div class="profile-section">
                <h2>Notification Preferences</h2>
                <form id="notification-preferences-form">
                    <div class="notification-preferences">
                        <h3>Email Notifications</h3>
                        
                        <div class="notification-option">
                            <input type="checkbox" id="email-transactions" checked>
                            <label for="email-transactions">
                                Transaction Updates
                                <span>Receive emails about deposits, withdrawals, and other account transactions</span>
                            </label>
                        </div>
                        
                        <div class="notification-option">
                            <input type="checkbox" id="email-news" checked>
                            <label for="email-news">
                                News and Updates
                                <span>Receive emails about company news and product updates</span>
                            </label>
                        </div>
                        
                        <div class="notification-option">
                            <input type="checkbox" id="email-marketing">
                            <label for="email-marketing">
                                Marketing and Promotions
                                <span>Receive emails about special offers and promotions</span>
                            </label>
                        </div>
                        
                        <div class="notification-option">
                            <input type="checkbox" id="email-security" checked>
                            <label for="email-security">
                                Security Alerts
                                <span>Receive emails about important security updates and login attempts</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="notification-preferences">
                        <h3>SMS Notifications</h3>
                        
                        <div class="notification-option">
                            <input type="checkbox" id="sms-transactions">
                            <label for="sms-transactions">
                                Transaction Updates
                                <span>Receive SMS messages about deposits, withdrawals, and other account transactions</span>
                            </label>
                        </div>
                        
                        <div class="notification-option">
                            <input type="checkbox" id="sms-security" checked>
                            <label for="sms-security">
                                Security Alerts
                                <span>Receive SMS messages about important security updates and login attempts</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn" style="background-color: #6c757d;">Cancel</button>
                        <button type="submit" class="btn">Save Preferences</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <!-- Column 1 -->
                <div class="footer-column">
                    <h3>BlueRock Asset Management</h3>
                    <p>Helping clients build and preserve wealth through expert financial guidance and personalized investment strategies since 2005.</p>
                    <div class="social-icons" style="margin-top: 20px;">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                
                <!-- Column 2 -->
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="index.html#services">Services</a></li>
                        <li><a href="index.html#calculator">Calculator</a></li>
                        <li><a href="savings.html">Savings</a></li>
                        <li><a href="investments.html">Investments</a></li>
                        <li><a href="index.html#contact">Contact</a></li>
                    </ul>
                </div>
                
                <!-- Column 3 -->
                <div class="footer-column">
                    <h3>Services</h3>
                    <ul>
                        <li><a href="savings.html">Savings Plans</a></li>
                        <li><a href="investments.html">Investment Portfolios</a></li>
                        <li><a href="retirement.html">Retirement Planning</a></li>
                        <li><a href="estate.html">Estate Planning</a></li>
                        <li><a href="tax.html">Tax Optimization</a></li>
                        <li><a href="education.html">Financial Education</a></li>
                    </ul>
                </div>
                
                <!-- Column 4 -->
                <div class="footer-column">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="privacy-policy.html">Privacy Policy</a></li>
                        <li><a href="terms.html">Terms of Service</a></li>
                        <li><a href="cookie-policy.html">Cookie Policy</a></li>
                        <li><a href="disclaimer.html">Disclaimer</a></li>
                        <li><a href="regulatory.html">Regulatory Information</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 BlueRock Asset Management. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <!-- Two-Factor Authentication Modal -->
    <div id="two-factor-modal" class="auth-modal">
        <div class="auth-modal-content">
            <button class="auth-modal-close" onclick="closeModal('two-factor-modal')">&times;</button>
            <h2 class="auth-modal-title">Enable Two-Factor Authentication</h2>
            
            <div class="auth-form">
                <p>Two-factor authentication adds an extra layer of security to your account by requiring a verification code in addition to your password when you log in.</p>
                
                <div style="text-align: center; margin: 30px 0;">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=otpauth://totp/BlueRock:john.doe@example.com?secret=JBSWY3DPEHPK3PXP&issuer=BlueRock" alt="QR Code for Two-Factor Authentication">
                    <p style="margin-top: 15px;">Scan this QR code with your authenticator app</p>
                    <div style="margin-top: 15px;">
                        <p><strong>Backup Code:</strong> JBSWY3DPEHPK3PXP</p>
                        <p style="font-size: 0.9rem; color: #6c757d;">Save this code in a secure place. You'll need it if you lose access to your authenticator app.</p>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="verification-code">Verification Code</label>
                    <input type="text" id="verification-code" placeholder="Enter 6-digit code" required>
                    <div class="validation-error">Please enter a valid verification code</div>
                </div>
                
                <div class="auth-modal-footer">
                    <button type="button" class="btn" style="background-color: #6c757d;" onclick="closeModal('two-factor-modal')">Cancel</button>
                    <button type="button" class="btn" onclick="verifyTwoFactorCode()">Verify & Enable</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Login History Modal -->
    <div id="login-history-modal" class="auth-modal">
        <div class="auth-modal-content">
            <button class="auth-modal-close" onclick="closeModal('login-history-modal')">&times;</button>
            <h2 class="auth-modal-title">Login History</h2>
            
            <table class="admin-table" style="width: 100%;">
                <thead>
                    <tr>
                        <th>Date & Time</th>
                        <th>Device</th>
                        <th>Location</th>
                        <th>IP Address</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Aug 30, 2025 - 10:15 AM</td>
                        <td>Chrome on Windows</td>
                        <td>New York, USA</td>
                        <td>192.168.1.1</td>
                        <td><span class="status active">Successful</span></td>
                    </tr>
                    <tr>
                        <td>Aug 28, 2025 - 3:42 PM</td>
                        <td>Safari on iPhone</td>
                        <td>New York, USA</td>
                        <td>192.168.1.2</td>
                        <td><span class="status active">Successful</span></td>
                    </tr>
                    <tr>
                        <td>Aug 25, 2025 - 9:30 AM</td>
                        <td>Chrome on Windows</td>
                        <td>New York, USA</td>
                        <td>192.168.1.1</td>
                        <td><span class="status active">Successful</span></td>
                    </tr>
                    <tr>
                        <td>Aug 24, 2025 - 7:15 PM</td>
                        <td>Firefox on Mac</td>
                        <td>Chicago, USA</td>
                        <td>192.168.1.3</td>
                        <td><span class="status rejected">Failed</span></td>
                    </tr>
                    <tr>
                        <td>Aug 22, 2025 - 11:20 AM</td>
                        <td>Chrome on Windows</td>
                        <td>New York, USA</td>
                        <td>192.168.1.1</td>
                        <td><span class="status active">Successful</span></td>
                    </tr>
                </tbody>
            </table>
            
            <div class="auth-modal-footer">
                <button type="button" class="btn" onclick="closeModal('login-history-modal')">Close</button>
            </div>
        </div>
    </div>
    
    <!-- Active Sessions Modal -->
    <div id="active-sessions-modal" class="auth-modal">
        <div class="auth-modal-content">
            <button class="auth-modal-close" onclick="closeModal('active-sessions-modal')">&times;</button>
            <h2 class="auth-modal-title">Active Sessions</h2>
            
            <div style="margin-bottom: 20px;">
                <p>These are your currently active sessions. You can terminate any session that you don't recognize.</p>
            </div>
            
            <table class="admin-table" style="width: 100%;">
                <thead>
                    <tr>
                        <th>Device</th>
                        <th>Location</th>
                        <th>Last Active</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Chrome on Windows <span style="color: #28a745;">(Current)</span></td>
                        <td>New York, USA</td>
                        <td>Just now</td>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>Safari on iPhone</td>
                        <td>New York, USA</td>
                        <td>2 hours ago</td>
                        <td><button class="btn" style="padding: 5px 10px; font-size: 0.9rem;">Terminate</button></td>
                    </tr>
                    <tr>
                        <td>Chrome on Android</td>
                        <td>New York, USA</td>
                        <td>Yesterday</td>
                        <td><button class="btn" style="padding: 5px 10px; font-size: 0.9rem;">Terminate</button></td>
                    </tr>
                </tbody>
            </table>
            
            <div class="auth-modal-footer">
                <button type="button" class="btn" style="background-color: #dc3545;">Terminate All Other Sessions</button>
                <button type="button" class="btn" onclick="closeModal('active-sessions-modal')">Close</button>
            </div>
        </div>
    </div>
    
    <!-- Custom JavaScript -->
    <script src="js/scripts.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/fixed-mobile-nav.js"></script>
    <script src="js/auth.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Tab switching
            const tabs = document.querySelectorAll('.profile-tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    
                    // Add active class to clicked tab
                    this.classList.add('active');
                    
                    // Hide all tab contents
                    const tabContents = document.querySelectorAll('.profile-content');
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // Show selected tab content
                    const tabId = this.getAttribute('data-tab') + '-tab';
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // Load user data from session storage
            const user = JSON.parse(sessionStorage.getItem('user'));
            if (user) {
                // Update profile header
                document.getElementById('profile-name').textContent = user.name;
                document.getElementById('profile-email').textContent = user.email;
                
                // Update avatar with initials
                const initials = user.name.split(' ').map(name => name[0]).join('');
                document.getElementById('profile-avatar').textContent = initials;
                
                // Update form fields
                const nameParts = user.name.split(' ');
                if (nameParts.length > 0) {
                    document.getElementById('first-name').value = nameParts[0];
                }
                if (nameParts.length > 1) {
                    document.getElementById('last-name').value = nameParts.slice(1).join(' ');
                }
                document.getElementById('email').value = user.email;
            }
            
            // Personal info form submission
            const personalInfoForm = document.getElementById('personal-info-form');
            if (personalInfoForm) {
                personalInfoForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Get form values
                    const firstName = document.getElementById('first-name').value.trim();
                    const lastName = document.getElementById('last-name').value.trim();
                    const email = document.getElementById('email').value.trim();
                    const phone = document.getElementById('phone').value.trim();
                    
                    // Update user data in session storage
                    const user = JSON.parse(sessionStorage.getItem('user'));
                    if (user) {
                        user.name = firstName + ' ' + lastName;
                        user.email = email;
                        sessionStorage.setItem('user', JSON.stringify(user));
                        
                        // Update profile header
                        document.getElementById('profile-name').textContent = user.name;
                        document.getElementById('profile-email').textContent = user.email;
                        
                        // Update avatar with initials
                        const initials = user.name.split(' ').map(name => name[0]).join('');
                        document.getElementById('profile-avatar').textContent = initials;
                    }
                    
                    // Show success message
                    showNotification('Profile updated successfully!', 'success');
                });
            }
            
            // Change password form submission
            const changePasswordForm = document.getElementById('change-password-form');
            if (changePasswordForm) {
                changePasswordForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Get form values
                    const currentPassword = document.getElementById('current-password').value;
                    const newPassword = document.getElementById('new-password').value;
                    const confirmPassword = document.getElementById('confirm-password').value;
                    
                    // Validate passwords
                    let isValid = true;
                    
                    if (currentPassword === '') {
                        setError(document.getElementById('current-password'), 'Please enter your current password');
                        isValid = false;
                    } else {
                        setSuccess(document.getElementById('current-password'));
                    }
                    
                    if (newPassword === '') {
                        setError(document.getElementById('new-password'), 'Please enter a new password');
                        isValid = false;
                    } else if (newPassword.length < 8) {
                        setError(document.getElementById('new-password'), 'Password must be at least 8 characters');
                        isValid = false;
                    } else if (checkPasswordStrength(newPassword) < 3) {
                        setError(document.getElementById('new-password'), 'Password is too weak. Include uppercase, lowercase, numbers, and special characters');
                        isValid = false;
                    } else {
                        setSuccess(document.getElementById('new-password'));
                    }
                    
                    if (confirmPassword === '') {
                        setError(document.getElementById('confirm-password'), 'Please confirm your new password');
                        isValid = false;
                    } else if (confirmPassword !== newPassword) {
                        setError(document.getElementById('confirm-password'), 'Passwords do not match');
                        isValid = false;
                    } else {
                        setSuccess(document.getElementById('confirm-password'));
                    }
                    
                    // If form is valid, update password
                    if (isValid) {
                        // In a real application, this would send data to the server to update the password
                        // For demo purposes, we'll just show a success message
                        showNotification('Password updated successfully!', 'success');
                        
                        // Reset form
                        changePasswordForm.reset();
                    }
                });
                
                // Password strength meter
                const newPasswordInput = document.getElementById('new-password');
                const passwordStrengthMeter = document.querySelector('.password-strength-meter');
                const passwordStrengthText = document.querySelector('.password-strength-text');
                
                newPasswordInput.addEventListener('input', function() {
                    const password = this.value;
                    const strength = checkPasswordStrength(password);
                    
                    // Update strength meter
                    passwordStrengthMeter.className = 'password-strength-meter';
                    
                    if (password.length === 0) {
                        passwordStrengthMeter.style.width = '0';
                        passwordStrengthText.textContent = 'Password strength: Too weak';
                    } else {
                        if (strength === 1) {
                            passwordStrengthMeter.classList.add('strength-weak');
                            passwordStrengthText.textContent = 'Password strength: Weak';
                        } else if (strength === 2) {
                            passwordStrengthMeter.classList.add('strength-medium');
                            passwordStrengthText.textContent = 'Password strength: Medium';
                        } else if (strength === 3) {
                            passwordStrengthMeter.classList.add('strength-good');
                            passwordStrengthText.textContent = 'Password strength: Good';
                        } else if (strength === 4) {
                            passwordStrengthMeter.classList.add('strength-strong');
                            passwordStrengthText.textContent = 'Password strength: Strong';
                        }
                    }
                });
            }
            
            // Notification preferences form submission
            const notificationPreferencesForm = document.getElementById('notification-preferences-form');
            if (notificationPreferencesForm) {
                notificationPreferencesForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // In a real application, this would send data to the server to update notification preferences
                    // For demo purposes, we'll just show a success message
                    showNotification('Notification preferences updated successfully!', 'success');
                });
            }
            
            // Security settings buttons
            const enable2faBtn = document.getElementById('enable-2fa');
            if (enable2faBtn) {
                enable2faBtn.addEventListener('click', function() {
                    openModal('two-factor-modal');
                });
            }
            
            const viewLoginHistoryBtn = document.getElementById('view-login-history');
            if (viewLoginHistoryBtn) {
                viewLoginHistoryBtn.addEventListener('click', function() {
                    openModal('login-history-modal');
                });
            }
            
            const manageSessionsBtn = document.getElementById('manage-sessions');
            if (manageSessionsBtn) {
                manageSessionsBtn.addEventListener('click', function() {
                    openModal('active-sessions-modal');
                });
            }
        });
        
        // Function to open modal
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }
        
        // Function to close modal
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Function to verify two-factor code
        function verifyTwoFactorCode() {
            const verificationCode = document.getElementById('verification-code').value.trim();
            
            if (verificationCode === '' || verificationCode.length !== 6) {
                setError(document.getElementById('verification-code'), 'Please enter a valid 6-digit verification code');
                return;
            }
            
            // In a real application, this would send the code to the server for verification
            // For demo purposes, we'll just show a success message
            showNotification('Two-factor authentication enabled successfully!', 'success');
            
            // Close the modal
            closeModal('two-factor-modal');
            
            // Update the button text
            document.getElementById('enable-2fa').textContent = 'Disable';
        }
        
        // Function to check password strength
        function checkPasswordStrength(password) {
            let strength = 0;
            
            // Length check
            if (password.length >= 8) {
                strength += 1;
            }
            
            // Contains lowercase and uppercase letters
            if (password.match(/[a-z]/) && password.match(/[A-Z]/)) {
                strength += 1;
            }
            
            // Contains numbers
            if (password.match(/\d/)) {
                strength += 1;
            }
            
            // Contains special characters
            if (password.match(/[^a-zA-Z\d]/)) {
                strength += 1;
            }
            
            return strength;
        }
        
        // Function to set error on form field
        function setError(input, message) {
            const formGroup = input.closest('.form-group');
            const errorDisplay = formGroup.querySelector('.validation-error');
            
            formGroup.classList.add('error');
            formGroup.classList.remove('success');
            
            if (errorDisplay) {
                errorDisplay.textContent = message;
                errorDisplay.style.display = 'block';
            }
        }
        
        // Function to set success on form field
        function setSuccess(input) {
            const formGroup = input.closest('.form-group');
            const errorDisplay = formGroup.querySelector('.validation-error');
            
            formGroup.classList.remove('error');
            formGroup.classList.add('success');
            
            if (errorDisplay) {
                errorDisplay.style.display = 'none';
            }
        }
        
        // Function to show notification
        function showNotification(message, type = 'info') {
            // Check if notification container exists, if not create it
            let notificationContainer = document.getElementById('notification-container');
            
            if (!notificationContainer) {
                notificationContainer = document.createElement('div');
                notificationContainer.id = 'notification-container';
                notificationContainer.style.position = 'fixed';
                notificationContainer.style.top = '20px';
                notificationContainer.style.right = '20px';
                notificationContainer.style.zIndex = '9999';
                document.body.appendChild(notificationContainer);
            }
            
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'notification ' + type;
            notification.innerHTML = `
                <div class="notification-content">
                    <span class="notification-message">${message}</span>
                    <button class="notification-close">&times;</button>
                </div>
            `;
            
            // Style notification
            notification.style.backgroundColor = type === 'success' ? '#28a745' : 
                                                type === 'error' ? '#dc3545' : 
                                                type === 'warning' ? '#ffc107' : '#17a2b8';
            notification.style.color = 'white';
            notification.style.padding = '15px';
            notification.style.marginBottom = '10px';
            notification.style.borderRadius = '5px';
            notification.style.boxShadow = '0 4px 6px rgba(0, 0, 0, 0.1)';
            notification.style.width = '300px';
            notification.style.maxWidth = '100%';
            notification.style.opacity = '0';
            notification.style.transform = 'translateX(50px)';
            notification.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
            
            // Add notification to container
            notificationContainer.appendChild(notification);
            
            // Show notification with animation
            setTimeout(() => {
                notification.style.opacity = '1';
                notification.style.transform = 'translateX(0)';
            }, 10);
            
            // Add event listener to close button
            const closeBtn = notification.querySelector('.notification-close');
            closeBtn.style.background = 'none';
            closeBtn.style.border = 'none';
            closeBtn.style.color = 'white';
            closeBtn.style.fontSize = '1.5rem';
            closeBtn.style.cursor = 'pointer';
            closeBtn.style.float = 'right';
            closeBtn.style.marginLeft = '10px';
            closeBtn.style.marginTop = '-5px';
            
            closeBtn.addEventListener('click', function() {
                hideNotification(notification);
            });
            
            // Auto hide notification after 5 seconds
            setTimeout(() => {
                hideNotification(notification);
            }, 5000);
        }
        
        // Function to hide notification
        function hideNotification(notification) {
            notification.style.opacity = '0';
            notification.style.transform = 'translateX(50px)';
            
            setTimeout(() => {
                notification.remove();
            }, 300);
        }
    </script>
    <script src="js/fixed-mobile-nav.js"></script>
    <script src="js/lazy-loading.js"></script>
    <script src="js/apply-lazy-loading.js"></script>
    <script src="js/register-service-worker.js"></script>
    <script src="js/ab-testing.js"></script>
    <script src="js/cookie-consent.js"></script>
    <script src="js/newsletter-signup.js"></script>
    <script src="js/social-sharing.js"></script>
    <script src="js/referral-program.js"></script>
</body>
</html>
